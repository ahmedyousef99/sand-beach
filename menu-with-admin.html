<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="pageTitle">Ø§Ù„Ø³Ø§Ù† Ø¨ÙŠØªØ´ - Al-Sun Beach Restaurant</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Cairo", sans-serif;
        background: linear-gradient(
          180deg,
          #001f3f 0%,
          #0a4d7a 50%,
          #1e7bb8 100%
        );
        min-height: 100vh;
        position: relative;
        overflow-x: hidden;
        direction: rtl;
      }

      /* Animated waves background */
      .waves {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 200px;
        z-index: 0;
        pointer-events: none;
      }

      .wave {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 200%;
        height: 100%;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120"><path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" opacity=".25"/><path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" opacity=".5"/><path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z"/></svg>')
          repeat-x;
        animation: wave 15s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
        opacity: 0.3;
      }

      .wave:nth-child(2) {
        bottom: 10px;
        animation: wave 18s cubic-bezier(0.36, 0.45, 0.63, 0.53) -0.125s infinite,
          swell 7s ease -1.25s infinite;
        opacity: 0.5;
      }

      .wave:nth-child(3) {
        bottom: 15px;
        animation: wave 20s cubic-bezier(0.36, 0.45, 0.63, 0.53) -0.25s infinite,
          swell 7s ease -1.25s infinite;
        opacity: 0.7;
      }

      @keyframes wave {
        0% {
          transform: translateX(0);
        }
        50% {
          transform: translateX(-25%);
        }
        100% {
          transform: translateX(-50%);
        }
      }

      @keyframes swell {
        0%,
        100% {
          transform: translate3d(0, -25px, 0);
        }
        50% {
          transform: translate3d(0, 5px, 0);
        }
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
        position: relative;
        z-index: 1;
      }

      /* Admin Button */
      .admin-button {
        position: fixed;
        bottom: 30px;
        left: 30px;
        background: linear-gradient(135deg, #ffd700 0%, #ffb300 100%);
        color: #001f3f;
        padding: 15px 25px;
        border-radius: 50px;
        box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
        text-decoration: none;
        font-weight: bold;
        z-index: 1000;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .admin-button:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(255, 215, 0, 0.7);
      }

      /* Header with beach theme */
      header {
        text-align: center;
        padding: 50px 20px;
        background: linear-gradient(
          135deg,
          rgba(255, 193, 7, 0.95) 0%,
          rgba(255, 152, 0, 0.95) 100%
        );
        border-radius: 30px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        margin-bottom: 40px;
        position: relative;
        overflow: hidden;
        animation: fadeInDown 1s ease;
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      header::before {
        content: "ğŸŒŠ";
        position: absolute;
        font-size: 200px;
        opacity: 0.1;
        top: -50px;
        left: -50px;
        animation: float 6s ease-in-out infinite;
      }

      header::after {
        content: "ğŸŒ´";
        position: absolute;
        font-size: 150px;
        opacity: 0.1;
        bottom: -30px;
        right: -30px;
        animation: float 8s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      .logo-container {
        position: relative;
        display: inline-block;
        margin-bottom: 20px;
      }

      .logo {
        width: 150px;
        height: 150px;
        margin: 0 auto;
        background: linear-gradient(135deg, #0077be 0%, #00a8e8 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 60px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        animation: pulse 2s ease-in-out infinite;
        border: 5px solid #fff;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      h1 {
        color: #fff;
        font-size: 3.5em;
        margin-bottom: 10px;
        font-weight: 900;
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
        letter-spacing: 2px;
      }

      .subtitle {
        color: #fff;
        font-size: 1.5em;
        font-weight: 600;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      .beach-tagline {
        color: #001f3f;
        font-size: 1.1em;
        margin-top: 15px;
        font-weight: 600;
      }

      /* Tabs with beach style */
      .tabs {
        display: flex;
        gap: 20px;
        justify-content: center;
        margin-bottom: 40px;
        flex-wrap: wrap;
      }

      .tab {
        background: linear-gradient(135deg, #00d4ff 0%, #0096c7 100%);
        color: white;
        border: none;
        padding: 18px 35px;
        border-radius: 50px;
        font-size: 1.2em;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        box-shadow: 0 8px 20px rgba(0, 150, 199, 0.4);
        position: relative;
        overflow: hidden;
      }

      .tab::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
      }

      .tab:hover::before {
        width: 300px;
        height: 300px;
      }

      .tab:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 15px 35px rgba(0, 150, 199, 0.6);
      }

      .tab.active {
        background: linear-gradient(135deg, #ffd700 0%, #ffb300 100%);
        box-shadow: 0 10px 30px rgba(255, 215, 0, 0.5);
      }

      /* Menu sections */
      .menu-section {
        display: none;
        animation: fadeIn 0.8s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .menu-section.active {
        display: block;
      }

      .category-header {
        text-align: center;
        margin-bottom: 40px;
        animation: slideIn 1s ease;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(-100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .category-title {
        color: #fff;
        font-size: 2.8em;
        font-weight: 900;
        text-shadow: 3px 3px 10px rgba(0, 0, 0, 0.5);
        margin-bottom: 10px;
        display: inline-block;
        background: linear-gradient(135deg, #ffd700 0%, #ffb300 100%);
        padding: 15px 40px;
        border-radius: 50px;
        transform: skew(-5deg);
      }

      .category-description {
        color: #a8dadc;
        font-size: 1.2em;
        margin-top: 15px;
      }

      /* Menu grid */
      .menu-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 30px;
        margin-bottom: 50px;
      }

      .menu-item {
        background: rgba(255, 255, 255, 0.98);
        border-radius: 25px;
        overflow: hidden;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        animation: fadeInUp 0.8s ease backwards;
      }

      .menu-item:nth-child(1) {
        animation-delay: 0.1s;
      }
      .menu-item:nth-child(2) {
        animation-delay: 0.2s;
      }
      .menu-item:nth-child(3) {
        animation-delay: 0.3s;
      }
      .menu-item:nth-child(4) {
        animation-delay: 0.4s;
      }
      .menu-item:nth-child(5) {
        animation-delay: 0.5s;
      }
      .menu-item:nth-child(6) {
        animation-delay: 0.6s;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .menu-item:hover {
        transform: translateY(-15px) rotate(2deg);
        box-shadow: 0 20px 60px rgba(0, 150, 199, 0.4);
      }

      .item-badge {
        position: absolute;
        top: 15px;
        left: 15px;
        background: #ff6b6b;
        color: white;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 0.85em;
        font-weight: bold;
        z-index: 1;
        animation: wiggle 1s ease-in-out infinite;
      }

      @keyframes wiggle {
        0%,
        100% {
          transform: rotate(-5deg);
        }
        50% {
          transform: rotate(5deg);
        }
      }

      .item-badge.popular {
        background: #ff6b6b;
      }
      .item-badge.new {
        background: #51cf66;
      }
      .item-badge.special {
        background: #ffd700;
        color: #001f3f;
      }

      .item-image {
        width: 100%;
        height: 220px;
        background: linear-gradient(
          135deg,
          #00d4ff 0%,
          #0077be 50%,
          #001f3f 100%
        );
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 5em;
        position: relative;
        overflow: hidden;
      }

      .item-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .item-image::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.3) 0%,
          transparent 70%
        );
        animation: shimmer 3s linear infinite;
      }

      @keyframes shimmer {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .item-content {
        padding: 25px;
      }

      .item-name {
        font-size: 1.7em;
        color: #001f3f;
        margin-bottom: 12px;
        font-weight: 900;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .item-description {
        color: #555;
        margin-bottom: 20px;
        line-height: 1.8;
        font-size: 1.05em;
      }

      .item-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-top: 15px;
        border-top: 2px dashed #e0e0e0;
      }

      .item-price {
        font-size: 2em;
        color: #0077be;
        font-weight: 900;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .price-currency {
        font-size: 0.6em;
        color: #666;
      }

      .order-button {
        background: linear-gradient(135deg, #ffd700 0%, #ffb300 100%);
        color: #001f3f;
        border: none;
        padding: 12px 25px;
        border-radius: 25px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 1em;
      }

      .order-button:hover {
        transform: scale(1.1);
        box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
      }

      /* Footer */
      footer {
        background: linear-gradient(
          135deg,
          rgba(0, 119, 190, 0.95) 0%,
          rgba(0, 31, 63, 0.95) 100%
        );
        text-align: center;
        padding: 40px 20px;
        border-radius: 30px;
        margin-top: 50px;
        box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.3);
        color: white;
      }

      .footer-logo {
        font-size: 3em;
        margin-bottom: 15px;
      }

      footer h3 {
        font-size: 2em;
        margin-bottom: 20px;
        color: #ffd700;
        font-weight: 900;
      }

      .contact-info {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 25px;
      }

      .contact-item {
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 15px;
        backdrop-filter: blur(10px);
        transition: all 0.3s;
      }

      .contact-item:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-5px);
      }

      .contact-item p {
        margin: 5px 0;
        font-size: 1.1em;
      }

      .social-links {
        margin-top: 30px;
        display: flex;
        justify-content: center;
        gap: 20px;
      }

      .social-link {
        width: 50px;
        height: 50px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5em;
        transition: all 0.3s;
        cursor: pointer;
      }

      .social-link:hover {
        background: #ffd700;
        transform: rotate(360deg) scale(1.2);
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 2.2em;
        }

        .menu-grid {
          grid-template-columns: 1fr;
        }

        .tab {
          padding: 14px 25px;
          font-size: 1em;
        }

        .category-title {
          font-size: 2em;
        }

        .admin-button {
          bottom: 20px;
          left: 20px;
          padding: 12px 20px;
          font-size: 0.9em;
        }
      }

      /* Empty state */
      .empty-state {
        text-align: center;
        padding: 60px 20px;
        color: white;
      }

      .empty-state h3 {
        font-size: 2em;
        margin-bottom: 15px;
      }

      .empty-state p {
        font-size: 1.2em;
        opacity: 0.8;
      }
    </style>
    <!-- Supabase UMD (for direct browser use) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
  </head>
  <body>
    <!-- Admin Access Button -->
    <!-- <a href="index.html" class="admin-button"> ğŸ›ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… </a> -->

    <!-- Animated waves background -->
    <div class="waves">
      <div class="wave"></div>
      <div class="wave"></div>
      <div class="wave"></div>
    </div>

    <div class="container">
      <header>
        <div class="logo-container">
          <div class="logo">ğŸ–ï¸</div>
        </div>
        <h1 id="restaurantNameAr">Ø§Ù„Ø³Ø§Ù† Ø¨ÙŠØªØ´</h1>
        <p class="subtitle" id="restaurantNameEn">
          Al-Sun Beach Restaurant & CafÃ©
        </p>
        <p class="beach-tagline" id="restaurantTagline">
          ğŸŒŠ Ù…Ø°Ø§Ù‚ Ø§Ù„Ø¨Ø­Ø± ÙÙŠ ÙƒÙ„ Ù„Ù‚Ù…Ø© ğŸŒ…
        </p>
      </header>

      <div class="tabs" id="tabsContainer">
        <!-- Tabs will be generated dynamically -->
      </div>

      <div id="menuContainer">
        <!-- Menu sections will be loaded here -->
      </div>

      <footer>
        <div class="footer-logo">ğŸ–ï¸</div>
        <h3 id="footerName">Ù…Ø·Ø¹Ù… Ø§Ù„Ø³Ø§Ù† Ø¨ÙŠØªØ´</h3>
        <p style="font-size: 1.3em; margin-bottom: 20px" id="footerNameEn">
          Al-Sun Beach Restaurant & CafÃ©
        </p>
        <p style="font-size: 1.1em; color: #a8dadc" id="footerTagline">
          ğŸŒŠ Ù…Ø°Ø§Ù‚ Ø§Ù„Ø¨Ø­Ø± ÙÙŠ ÙƒÙ„ Ù„Ù‚Ù…Ø© ğŸŒ…
        </p>

        <div class="contact-info">
          <div class="contact-item">
            <p>ğŸ“ <strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</strong></p>
            <p id="footerAddress">Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¨Ø­Ø±ØŒ Ù†Ø§Ø¨Ù„Ø³ØŒ ÙÙ„Ø³Ø·ÙŠÙ†</p>
          </div>

          <div class="contact-item">
            <p>ğŸ“ <strong>Ù„Ù„Ø­Ø¬Ø² ÙˆØ§Ù„ØªÙˆØ§ØµÙ„</strong></p>
            <p id="footerPhone1">059-1234567</p>
            <p id="footerPhone2">09-2345678</p>
          </div>

          <div class="contact-item">
            <p>â° <strong>Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„</strong></p>
            <p id="footerDays">Ø§Ù„Ø³Ø¨Øª - Ø§Ù„Ø®Ù…ÙŠØ³</p>
            <p id="footerHours">10 ØµØ¨Ø§Ø­Ø§Ù‹ - 12 Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„</p>
          </div>
        </div>

        <div class="social-links">
          <div class="social-link" title="Facebook">ğŸ“˜</div>
          <div class="social-link" title="Instagram">ğŸ“·</div>
          <div class="social-link" title="WhatsApp">ğŸ’¬</div>
          <div class="social-link" title="Location">ğŸ“</div>
        </div>

        <p style="margin-top: 30px; opacity: 0.7">
          Â© 2025 Al-Sun Beach Restaurant. All rights reserved.
        </p>
      </footer>
    </div>

    <script>
      // --- Supabase client (public anon key) ---
      const SUPABASE_URL = "https://unissiisuiezcwrlieio.supabase.co";
      const SUPABASE_ANON_KEY =
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVuaXNzaWlzdWllemN3cmxpZWlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzMzUwNjAsImV4cCI6MjA3NzkxMTA2MH0.R5-cyxFkzSVv6Mbs7UUl0D5luohgkbubdyMGnB5EyRc";
      let supabaseClient = null;
      try {
        if (
          window.supabase &&
          typeof window.supabase.createClient === "function"
        ) {
          supabaseClient = window.supabase.createClient(
            SUPABASE_URL,
            SUPABASE_ANON_KEY
          );
        }
      } catch (e) {
        console.warn("Supabase init failed or supabase script not loaded", e);
      }

      let menuItems = [];
      let restaurantInfo = {};
      let currentCategory = "all";

      // Category names and emojis
      const categoryInfo = {
        drinks: { name: "Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª", emoji: "ğŸ¹" },
        seafood: { name: "Ø§Ù„Ù…Ø£ÙƒÙˆÙ„Ø§Øª Ø§Ù„Ø¨Ø­Ø±ÙŠØ©", emoji: "ğŸ¦" },
        grill: { name: "Ø§Ù„Ù…Ø´Ø§ÙˆÙŠ", emoji: "ğŸ–" },
        appetizers: { name: "Ø§Ù„Ù…Ù‚Ø¨Ù„Ø§Øª", emoji: "ğŸ¥—" },
        dessert: { name: "Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª", emoji: "ğŸ°" },
      };

      // Load data on page load
      window.onload = function () {
        loadDataFromStorage();
        loadRestaurantInfo();
        generateTabs();
        displayMenu();
        // Try to start Supabase realtime listener to get cloud updates
        if (supabaseClient) {
          startSupabaseSync(() => {
            loadRestaurantInfo();
            generateTabs();
            displayMenu();
          }).catch((err) => console.warn("Supabase menu sync error", err));
        }
      };

      // Start Supabase realtime listener and initial fetch (uses `menu_items1` table)
      async function startSupabaseSync(onUpdate) {
        if (!supabaseClient) return null;

        const RESTAURANT_ID = 1; // numeric id per your schema

        try {
          const { data, error } = await supabaseClient
            .from("menu_items1")
            .select("*")
            .eq("restaurant_id", RESTAURANT_ID)
            .order("position", { ascending: true });

          if (!error && data) {
            menuItems = data.map((row) => ({
              id: row.id,
              category: row.category,
              name: row.name,
              description: row.description,
              price: Number(row.price),
              emoji: row.emoji,
              badge: row.badge,
              image: row.image,
              position: row.position !== null ? Number(row.position) : null,
            }));
            if (typeof onUpdate === "function") onUpdate();
          }
        } catch (err) {
          console.warn("Supabase fetch failed", err);
        }

        try {
          const channel = supabaseClient
            .channel("public:menu_items1")
            .on(
              "postgres_changes",
              {
                event: "*",
                schema: "public",
                table: "menu_items1",
                filter: `restaurant_id=eq.${RESTAURANT_ID}`,
              },
              (payload) => {
                try {
                  if (!payload.new && payload.old) {
                    // deletion
                    menuItems = menuItems.filter(
                      (i) => String(i.id) !== String(payload.old.id)
                    );
                  } else {
                    const row = payload.new || payload.record || payload;
                    if (row) {
                      const item = {
                        id: row.id,
                        category: row.category,
                        name: row.name,
                        description: row.description,
                        price: Number(row.price),
                        emoji: row.emoji,
                        badge: row.badge,
                        image: row.image,
                        position:
                          row.position !== null ? Number(row.position) : null,
                      };
                      const idx = menuItems.findIndex(
                        (i) => String(i.id) === String(item.id)
                      );
                      if (idx >= 0) menuItems[idx] = item;
                      else menuItems.push(item);
                    }
                  }
                  if (typeof onUpdate === "function") onUpdate();
                } catch (e) {
                  console.warn("Error handling realtime payload", e, payload);
                }
              }
            )
            .subscribe();

          return channel;
        } catch (err) {
          console.warn("Supabase realtime subscription failed", err);
          return null;
        }
      }

      // Load data from localStorage
      function loadDataFromStorage() {
        const savedItems = localStorage.getItem("alsunbeach_menu_items");
        const savedInfo = localStorage.getItem("alsunbeach_restaurant_info");

        if (savedItems) {
          menuItems = JSON.parse(savedItems);
        } else {
          // Default items if nothing in storage
          menuItems = [];
        }

        if (savedInfo) {
          restaurantInfo = JSON.parse(savedInfo);
        }
      }

      // Load restaurant info into page
      function loadRestaurantInfo() {
        if (restaurantInfo.nameAr) {
          document.getElementById("restaurantNameAr").textContent =
            restaurantInfo.nameAr;
          document.getElementById("footerName").textContent =
            "Ù…Ø·Ø¹Ù… " + restaurantInfo.nameAr;
          document.getElementById("pageTitle").textContent =
            restaurantInfo.nameAr + " - " + restaurantInfo.nameEn;
        }
        if (restaurantInfo.nameEn) {
          document.getElementById("restaurantNameEn").textContent =
            restaurantInfo.nameEn;
          document.getElementById("footerNameEn").textContent =
            restaurantInfo.nameEn;
        }
        if (restaurantInfo.tagline) {
          document.getElementById("restaurantTagline").textContent =
            restaurantInfo.tagline;
          document.getElementById("footerTagline").textContent =
            restaurantInfo.tagline;
        }
        if (restaurantInfo.address) {
          document.getElementById("footerAddress").textContent =
            restaurantInfo.address;
        }
        if (restaurantInfo.phone1) {
          document.getElementById("footerPhone1").textContent =
            restaurantInfo.phone1;
        }
        if (restaurantInfo.phone2) {
          document.getElementById("footerPhone2").textContent =
            restaurantInfo.phone2;
        }
        if (restaurantInfo.hours) {
          document.getElementById("footerHours").textContent =
            restaurantInfo.hours;
        }
        if (restaurantInfo.days) {
          document.getElementById("footerDays").textContent =
            restaurantInfo.days;
        }
      }

      // Generate tabs based on available categories
      function generateTabs() {
        const tabsContainer = document.getElementById("tabsContainer");
        const categories = [
          "all",
          ...new Set(menuItems.map((item) => item.category)),
        ];

        tabsContainer.innerHTML = "";

        categories.forEach((cat, index) => {
          const button = document.createElement("button");
          button.className = "tab" + (index === 0 ? " active" : "");

          if (cat === "all") {
            button.innerHTML =
              '<span style="position: relative;">ğŸ½ï¸ Ø§Ù„ÙƒÙ„</span>';
          } else if (categoryInfo[cat]) {
            button.innerHTML = `<span style="position: relative;">${categoryInfo[cat].emoji} ${categoryInfo[cat].name}</span>`;
          }

          button.onclick = () => showCategory(cat, button);
          tabsContainer.appendChild(button);
        });
      }

      // Show specific category
      function showCategory(category, buttonElement) {
        currentCategory = category;

        // Update active tab
        document
          .querySelectorAll(".tab")
          .forEach((tab) => tab.classList.remove("active"));
        buttonElement.classList.add("active");

        // Display items
        displayMenu();

        // Smooth scroll to top
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      // Display menu items
      function displayMenu() {
        const container = document.getElementById("menuContainer");
        container.innerHTML = "";

        if (menuItems.length === 0) {
          container.innerHTML = `
                    <div class="empty-state">
                        <h3>ğŸ“‹ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ØµÙ†Ø§Ù Ø­Ø§Ù„ÙŠØ§Ù‹</h3>
                        <p>Ø§Ø³ØªØ®Ø¯Ù… Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ù„Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ†Ø§Ù Ø¬Ø¯ÙŠØ¯Ø©</p>
                    </div>
                `;
          return;
        }

        // Group items by category
        let categories =
          currentCategory === "all"
            ? [...new Set(menuItems.map((item) => item.category))]
            : [currentCategory];

        categories.forEach((cat) => {
          const categoryItems = menuItems.filter(
            (item) => item.category === cat
          );

          if (categoryItems.length > 0 && categoryInfo[cat]) {
            const section = document.createElement("div");
            section.className = "menu-section active";

            section.innerHTML = `
                        <div class="category-header">
                            <h2 class="category-title">${
                              categoryInfo[cat].emoji
                            } ${categoryInfo[cat].name}</h2>
                        </div>
                        <div class="menu-grid">
                            ${categoryItems
                              .map((item) => createItemHTML(item))
                              .join("")}
                        </div>
                    `;

            container.appendChild(section);
          }
        });
      }

      // Create HTML for a single item
      function createItemHTML(item) {
        const badgeLabels = {
          popular: "Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹",
          new: "Ø¬Ø¯ÙŠØ¯",
          special: "Ù…Ù…ÙŠØ²",
        };

        const badgeHTML = item.badge
          ? `<span class="item-badge ${item.badge}">${
              badgeLabels[item.badge]
            }</span>`
          : "";

        const imageHTML = item.image
          ? `<img src="${item.image}" alt="${item.name}">`
          : item.emoji;

        return `
                <div class="menu-item">
                    ${badgeHTML}
                    <div class="item-image">${imageHTML}</div>
                    <div class="item-content">
                        <div class="item-name">${item.name}</div>
                        <div class="item-description">${item.description}</div>
                        <div class="item-footer">
                            <div class="item-price">${item.price} <span class="price-currency">â‚ª</span></div>
                            <button class="order-button">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
                        </div>
                    </div>
                </div>
            `;
      }

      // Parallax effect for waves
      window.addEventListener("scroll", function () {
        const waves = document.querySelector(".waves");
        const scrolled = window.pageYOffset;
        if (waves) {
          waves.style.transform = "translateY(" + scrolled * 0.3 + "px)";
        }
      });

      // Add entrance animation on load
      window.addEventListener("load", function () {
        document.body.style.opacity = "0";
        setTimeout(() => {
          document.body.style.transition = "opacity 1s";
          document.body.style.opacity = "1";
        }, 100);
      });

      // Add ripple effect to order buttons
      document.addEventListener("click", function (e) {
        if (e.target.classList.contains("order-button")) {
          let ripple = document.createElement("span");
          ripple.style.position = "absolute";
          ripple.style.borderRadius = "50%";
          ripple.style.background = "rgba(255,255,255,0.6)";
          ripple.style.width = ripple.style.height = "100px";
          ripple.style.marginLeft = "-50px";
          ripple.style.marginTop = "-50px";
          ripple.style.animation = "ripple 0.6s";
          ripple.style.left =
            e.clientX - e.target.getBoundingClientRect().left + "px";
          ripple.style.top =
            e.clientY - e.target.getBoundingClientRect().top + "px";
          e.target.appendChild(ripple);
          setTimeout(() => ripple.remove(), 600);
        }
      });
    </script>
  </body>
</html>
